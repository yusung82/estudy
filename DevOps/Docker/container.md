# 도커 컨테이너를 띄워보자

## 도커 이미지와 도커 컨테이너

![](https://velog.velcdn.com/images%2Fckstn0777%2Fpost%2F21bd71f9-a111-4e5d-8025-f9218757febf%2Fimage.png)

### 도커 이미지
이미지는 컨테이너를 생성할 때 필요한 요소이며, 가상머신을 생성할 때 사용하는 iso 파일과 비슷한 개념이다.

**이미지의 이름 형태**
```
[저장소이름]/[이미지이름]:[태그]
```

- 저장소 이름은 이미지가 저장된 장소를 의미하며 명시되지 않은 경우는 도커 허브의 공식 이미지를 의미한다.
- 이미지 이름은 어떤 역할을 하는지 나타낸다.
- 태그는 이미지의 버전관리, 생략시에는 도커 엔진이 자동으로 latest로 인식한다.

### 도커 컨테이너
도커 이미지의 종류는 운영체제부터 애플리케이션, 각종 도구까지 다양하게 있다.
  
이런 이미지로 컨테이너를 생성하면 해당 목적에 맞는 독립된 공간이 생성된다.
  
컨테이너에서 무엇을 하던 원래 이미지는 영향으 받지 않는다.
  
변경된 사항은 컨테이너 계층에 저장되기 때문이다.

## 컨테이너 생성하기

### `docker run`

```
$ sudo docker run -it ubuntu:18.04
```

이미지 다운 + 컨테이너 생성 + 실행을 동시에 하는 명령어 이며 `-it`은 컨테이너 상호작용 입출력을 가능하게 한다. 즉, 컨테이너에 명령어 입력이 가능해진다.

![](https://velog.velcdn.com/images%2Fckstn0777%2Fpost%2F207bf1d8-ce06-4220-899f-8dd72709e82c%2Fimage.png)

ubuntun:18.04는 도커 허브가 가진 공식 이미지이고 로컬에서 없으면 이를 자동으로 내려받게 된다.  
  
  
### `docker images`
```
$ sudo docker images
```

![](https://velog.velcdn.com/images%2Fckstn0777%2Fpost%2F8701ca34-4508-4597-9012-a220b3796c06%2Fimage.png)

방금 중앙 허브로부터 다운받은 이미지를 출력해준다. 우분투인데도 사이즈가 상당히 작은 것을 알 수 있다.

### `docker pull`
```
$ sudo docker pull centos:8
```

run이랑 다르게 컨테이너를 생성까지 하기는 싫고 이미지만 다운 받고 싶을 때 사용할 수 있는 명령이다.

### `docker create`
```
$ docker create -it --name mycentos centos:7
```

다운 받은 이미지를 통해 컨테이너 생성을 하려면 docker create 명령을 사용하면 된다. `--name`을 통해 컨테이너 이름을 지정해줄 수 있다. 이걸 안해주면 자동으로 이름을 만들어 준다.

### `docker start`
```
$ sudo docker start {컨테이너 이름 혹은 컨테이너 아이디}
```
컨테이너 실행 명령이다. 접속까지 하려면 `docker attach 컨테이너 이름 혹은 컨테이너 아이디`를 추가로 입력해줘야 한다.

<br>

## 컨테이너 목록 확인
컨테이너 목록을 확인하려면 `docker ps`라는 명령어를 실행하면 된다.

![](https://velog.velcdn.com/images%2Fckstn0777%2Fpost%2Fd85629ea-1314-4742-9c2b-b798c1e0994d%2Fimage.png)

정지된 컨테이너까지 보려면 `-a` 옵션을 추가해주면 된다.

<br>

## 컨테이너 삭제

종료된 컨테이너를 삭제하려면 `docker rm [컨테이너]` 명령을 실행하면 된다. 
  
하지만, 실행중인 컨테이너를 삭제하려고 하면 삭제가 안될 것이다. 이럴 때는 `docker stop`으로 정지한 다음 삭제하던가, `docker rm -f`로 강제 삭제하는 방법도 있다. 

