# 스위치와 라우터, 스위칭과 라우팅

## 스위치와 스위칭

### 스위치
스위치는 스위칭을 하는 장비입니다.  
  
목적지로 출발한 데이터가 스위치를 거치게 되면, 스위치는 데이터의 목적지를 파악하여 적합한 경로로 스위칭해주는 역할을 합니다.  
  
스위치는 데이터 링크 계층에 속하기 때문에 MAC 주소를 기반으로 작동을 합니다.  
  
자신에게 연결된 포트들이 MAC 주소 정보를 기록한 MAC 테이블을 가지고 판단하여 스위칭을 하는 것입니다.  
  
스위치는 다음과 같은 다섯 가지 기능들을 반복하여 자신의 역할을 수행합니다.  
  
- `Learning`: 처음 본 MAC 주소를 자신의 MAC 테이블에 기록하는 과정
- `Flooding`: 자신에게 들어온 데이터의 목적지가 불분명할 경우 들어온 포트를 제외한 모든 포트로 퍼뜨려준다.
- `Forwarding`: 들어온 데이터의 목적지를 알고 있을 경우 그쪽으로 보내준다.
- `Filtering`: 해당 목적지 경로로 가는 포트를 제외한 다른 불필요한 포트를 모두 막아준다.
- `Aging`: 일정 시간 동안 사용되지 않은 MAC주소를 삭제해준다.


## 라우터와 라우팅

### 라우터

라우터는 라우팅을 하는 장비다.  
  
스위치와 마찬가지로 들어온 데이터의 정보를 확인하고, 자신이 보유한 정보를 토대로 **목적지까지 적합한 경로를 찾아주는** `라우팅`기능을 합니다.  
  
라우터는 IP 주소를 기반으로 동작하여 네트워크 계층에 속해있습니다. 앞서, 자신이 보유한 정보는 모두 라우팅 테이블에 존재하는데, 네트워크 프로토콜 종류와 수신 네트워크 대역 그리고 보내질 인터페이스의 정보가 들어있습니다.  
  
스위치와 비슷하고 생각하면 이해가 쉽습니다.

## 스위치와 라우터의 차이

### 계층 차이

일반적으로는 스위치는 데이터링크 라우터는 네트워크 계층에 속한다.
- 스위치 : MAC 주소 기반
- 라우터 : IP 주소 기반

### 브로드캐스트 도메인
쉽게 하나의 네트워크로 말할 수 있다.  
  
`스위치`는 브로드캐스트 도메인을 구분하여 포트별로 서로 다른 네트워크 대역을 연결 및 구분하고 있다.
  
`라우터`는 구분을 하지 않는다

### 불명확한 목적지를 가진 데이터의 처리 방식
- 스위치는 자신에게 들어온 데이터의 목적지가 불분명할 경우 모든 포트로 데이터를 퍼뜨린다고 했다. 이것이 브로드캐스팅이다. 전역으로 넓게 퍼뜨리는 것이다.
- 하지만 라우터는 데이터의 목적지가 불분명하다면 그 데이터를 **가차없이 버려버린다.**

### 학습 기능

스위치는 학습 기능을 가지고 있어 관리자의 별도의 설정 없이도 사용이 가능하다.  
  
라우터는 관리자의 설정이 있어야 라우팅 테이블 생성 및 통신이 가능하다.
  
<br>

최근엔 스위치의 기능이 폭넓게 자리잡아서 L3 스위치, L4 스위치 등 데이터 링크 계층 외의 상위 계층의 역할을 수행하는 모델들도 많이 등장했다.  
  
그러면 네트워크 계층 역할을 수행하는 **라우터와 같은 계층 역할을 수행하는 L3 스위치의 차이점**은 무엇일까?  
  
일단 물리적으로 가격에서 차이가 있다. 대부분의 라우터가 더 비싼 편으로 라우터의 성능이 L3 스위치보다 더 좋다 라는것이 일반적이다.  
  
사실 기능적인 차이는 거의 없을 뿐더러 실제 구축된 네트워크 망의 예를 보아도 혼용해서 많이 사용하고 있기 때문에 네트워크 망의 구축여건과 환경에 따라서 더욱 적절한 것을 선택해 사용한다고 보면 된다.